<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard IGT - MINTRAB 2025</title>
    
    <!-- Librerías desde CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- CONFIGURACIÓN DE COLORES PERSONALIZADOS MINTRAB -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        mintrab: {
                            DEFAULT: '#002F5D', // Azul Institucional Oscuro
                            light: '#004a8f',   // Azul Institucional Claro
                            50: '#e6eff8'       // Fondo muy claro
                        }
                    },
                    animation: {
                        'bounce-slow': 'bounce 3s infinite',
                    }
                }
            }
        }
    </script>

    <style>
        body { font-family: 'Segoe UI', system-ui, sans-serif; background-color: #f8fafc; margin: 0; scroll-behavior: smooth; }
        .animate-in { animation: fadeIn 0.8s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        
        /* Fondo LIMPIO para la portada */
        .hero-pattern {
            background-color: #002F5D;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS ---
        const Icons = {
            Layout: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M3 9h18"/><path d="M9 21V9"/></svg>,
            ArrowLeft: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="m12 19-7-7 7-7"/><path d="M19 12H5"/></svg>,
            Check: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>,
            Zap: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>,
            FileText: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><line x1="16" x2="8" y1="13" y2="13"/><line x1="16" x2="8" y1="17" y2="17"/><line x1="10" x2="8" y1="9" y2="9"/></svg>,
            Sparkles: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275Z"/></svg>,
            TrendingUp: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><polyline points="22 7 13.5 15.5 8.5 10.5 2 17"/><polyline points="16 7 22 7 22 13"/></svg>,
            Box: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/></svg>,
            X: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M18 6 6 18"/><path d="m6 6 18 12"/></svg>,
            Loader: ({className}) => <svg className={className} width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M21 12a9 9 0 1 1-6.219-8.56"/></svg>,
            Server: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/></svg>,
            Tablet: () => <svg width="20" height="20" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><rect width="16" height="20" x="4" y="2" rx="2" ry="2"/><line x1="12" x2="12.01" y1="18" y2="18"/></svg>,
            Clock: () => <svg width="12" height="12" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>,
            CheckSmall: () => <svg width="12" height="12" fill="none" stroke="currentColor" strokeWidth="3" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"/></svg>,
            ChevronDown: () => <svg width="32" height="32" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="m6 9 6 6 6-6"/></svg>,
            Users: () => <svg width="48" height="48" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" viewBox="0 0 24 24"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><path d="M22 21v-2a4 4 0 0 0-3-3.87"/><path d="M16 3.13a4 4 0 0 1 0 7.75"/></svg>
        };

        // --- COMPONENTE VELOCÍMETRO (GAUGE) ---
        const GaugeChart = ({ value }) => {
            const radius = 40;
            const circumference = Math.PI * radius; 
            const arcLength = 126; 
            const strokeDashoffset = arcLength - ((value / 100) * arcLength);

            const getColor = (v) => {
                if(v >= 80) return "#10b981"; 
                if(v >= 50) return "#004a8f"; 
                return "#f43f5e"; 
            };

            return (
                <div className="relative w-32 h-20 flex flex-col items-center justify-end">
                    <svg viewBox="0 0 100 60" className="w-full h-full overflow-visible">
                        <path d="M 10 50 A 40 40 0 0 1 90 50" fill="none" stroke="#e2e8f0" strokeWidth="12" strokeLinecap="round" />
                        <path 
                            d="M 10 50 A 40 40 0 0 1 90 50" 
                            fill="none" 
                            stroke={getColor(value)} 
                            strokeWidth="12" 
                            strokeLinecap="round" 
                            strokeDasharray={arcLength}
                            strokeDashoffset={strokeDashoffset}
                            className="transition-all duration-1000 ease-out"
                        />
                    </svg>
                    <div className="absolute bottom-2 text-center">
                        <span className="text-3xl font-bold text-slate-900">{value}%</span>
                    </div>
                    <span className="text-xs text-slate-500 font-medium absolute -bottom-4">Completado</span>
                </div>
            );
        };

        const App = () => {
            // Función para scrollear hacia abajo
            const scrollToContent = () => {
                const element = document.getElementById('dashboard-content');
                if (element) {
                    element.scrollIntoView({ behavior: 'smooth' });
                }
            };

            // DATOS: PROYECTO ÚNICO (IGT)
            const project = {
                id: 2, 
                name: "Plataforma para Gestión de Denuncias",
                lead: "Inspección General de Trabajo", 
                overallProgress: 71,
                status: "En Progreso",
                dueDate: "20 Ene 2024", 
                objective: "Sistema integral para la modernización de la Inspección General de Trabajo que digitaliza todo el flujo: recepción de la denuncia (presencial y en línea), inspección en campo, operativos masivos y gestión de audiencias. El objetivo es eliminar la mora, garantizar la trazabilidad de los expedientes y permitir la consulta pública del estado de las denuncias.",
                modules: [
                    { name: "Recepción de la denuncia", status: "Finalizado" },
                    { name: "Inspección", status: "Finalizado" },
                    { name: "Verificación de la denuncia", status: "Proceso de Desarrollo" }, 
                    { name: "Sanciones", status: "Proceso de Desarrollo" },
                    { name: "Operativos", status: "Proceso de Desarrollo" }
                ],
                improvements: [
                    "Cero Papel: Expediente 100% digital desde recepción hasta archivo.",
                    "Asignación Equitativa: Algoritmo automático de carga para inspectores.",
                    "Actas Dinámicas: Generación automática de documentos estandarizados.",
                    "Portal Ciudadano: Consulta de estado de denuncia en tiempo real.",
                    "Operativos Masivos: Control centralizado de visitas y hallazgos."
                ],
                phaseDetails: [
                    { name: "Recopilación de Requerimientos", progress: 95, status: "Casi Finalizado", responsible: "Dirección de Sistemas de Información (DISI)" },
                    { name: "Análisis y Diseño", progress: 70, status: "En Proceso", responsible: "Dirección de Sistemas de Información (DISI)" },
                    { name: "Desarrollo", progress: 70, status: "En Proceso", responsible: "Dirección de Sistemas de Información (DISI)" },
                    { name: "Pruebas de Calidad QA", progress: 0, status: "No Iniciado", responsible: "Inspección General de Trabajo (IGT)" },
                    { name: "Capacitación", progress: 0, status: "No Iniciado", responsible: "Inspección General de Trabajo (IGT)" },
                    { name: "Implementación", progress: 0, status: "No Iniciado", responsible: "Dirección de Sistemas de Información (DISI)" }
                ]
            };

            const getStatusColor = (s) => s === 'Completado' ? 'bg-emerald-100 text-emerald-700' : 'bg-mintrab-light text-white';
            const getPhaseColor = (v) => v === 100 ? 'bg-emerald-500' : v > 0 ? 'bg-mintrab-light' : 'bg-slate-200';
            
            // Helper para color de estado de módulo
            const getModuleStatusStyle = (status) => {
                if (status === 'Finalizado') return 'bg-emerald-100 text-emerald-700 border-emerald-200';
                if (status === 'Proceso de Desarrollo') return 'bg-mintrab-50 text-mintrab-light border-mintrab-light/30';
                return 'bg-amber-50 text-amber-700 border-amber-200'; 
            };

            return (
                <div className="min-h-screen">
                    
                    {/* --- PORTADA / HERO SECTION --- */}
                    <div className="relative h-screen flex flex-col justify-center items-center text-white hero-pattern overflow-hidden">
                        <div className="absolute top-0 left-0 w-64 h-64 bg-mintrab-light opacity-20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
                        <div className="absolute bottom-0 right-0 w-96 h-96 bg-blue-400 opacity-10 rounded-full blur-3xl translate-x-1/3 translate-y-1/3"></div>

                        <div className="z-10 text-center px-6 max-w-4xl animate-in mt-10">
                            <div className="flex justify-center mb-6">
                                <div className="p-4 bg-white/10 rounded-full backdrop-blur-sm border border-white/20">
                                    <Icons.Users />
                                </div>
                            </div>
                            <h1 className="text-4xl md:text-6xl font-bold mb-4 tracking-tight leading-tight">
                                {project.name}
                            </h1>
                            <div className="h-1 w-24 bg-blue-400 mx-auto mb-6 rounded-full"></div>
                            <p className="text-lg md:text-xl text-blue-100 font-light tracking-wide">
                                Ministerio de Trabajo y Previsión Social
                            </p>
                            <p className="text-sm md:text-base text-blue-200 mt-2 font-semibold">
                                Informe de Proyectos 2025
                            </p>
                        </div>

                        {/* BOTÓN CON ACCIÓN SCROLL */}
                        <div 
                            onClick={scrollToContent} 
                            className="absolute bottom-10 animate-bounce-slow text-blue-200 flex flex-col items-center gap-2 cursor-pointer opacity-80 hover:opacity-100 transition-opacity"
                        >
                            <span className="text-xs uppercase tracking-widest font-semibold">Ver Reporte Detallado</span>
                            <Icons.ChevronDown />
                        </div>
                    </div>

                    {/* --- CONTENIDO PRINCIPAL (DASHBOARD) --- */}
                    <main id="dashboard-content" className="bg-slate-50 min-h-screen border-t-4 border-mintrab-light">
                        <div className="max-w-7xl mx-auto p-6 space-y-8 py-12">
                            
                            {/* TITULO Y ESTADO */}
                            <div className="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-slate-200 pb-6">
                                <div>
                                    <div className="flex items-center gap-3 mb-2">
                                        <span className={`px-3 py-1 rounded-full text-xs font-bold ${getStatusColor(project.status)}`}>{project.status}</span>
                                        <span className="text-sm text-slate-500 font-medium">{project.lead}</span>
                                    </div>
                                    <h1 className="text-3xl font-bold text-mintrab">{project.name}</h1>
                                </div>
                            </div>

                            <div className="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                {/* COLUMNA IZQUIERDA: REPORTE Y MEJORAS */}
                                <div className="lg:col-span-2 space-y-8">
                                    
                                    {/* 1. OBJETIVO DEL PROYECTO */}
                                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden relative group hover:shadow-md transition-shadow">
                                        <div className="absolute top-0 left-0 w-1.5 h-full bg-mintrab"></div>
                                        <div className="p-6">
                                            <h2 className="text-lg font-bold text-mintrab flex items-center gap-2 mb-4">
                                                <div className="p-1.5 bg-mintrab-50 text-mintrab rounded-md"><Icons.FileText /></div>
                                                Objetivo del Proyecto
                                            </h2>
                                            
                                            <div className="flex flex-col md:flex-row items-center gap-8 mb-6">
                                                <div className="bg-slate-50 p-6 rounded-lg flex flex-col items-center justify-center min-w-[200px] border border-slate-100">
                                                    <p className="text-xs text-slate-500 font-medium uppercase mb-4">Avance Global</p>
                                                    <GaugeChart value={project.overallProgress} />
                                                </div>
                                                
                                                <div className="bg-slate-50 p-6 rounded-lg flex-1 border border-slate-100">
                                                    <p className="text-sm text-slate-700 leading-relaxed text-justify">
                                                        {project.objective}
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    {/* 2. MEJORAS DEL SISTEMA */}
                                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                                        <h2 className="text-lg font-bold text-mintrab flex items-center gap-2 mb-6">
                                            <div className="p-1.5 bg-mintrab-50 text-mintrab rounded-md"><Icons.Zap /></div>
                                            Mejoras e Impacto del Sistema
                                        </h2>
                                        <ul className="space-y-4">
                                            {project.improvements.map((item, idx) => {
                                                const parts = item.split(':');
                                                const title = parts.length > 1 ? parts[0] + ":" : item;
                                                const desc = parts.length > 1 ? parts.slice(1).join(':') : "";

                                                return (
                                                    <li key={idx} className="flex items-start gap-3 bg-white p-4 rounded-lg border border-slate-100 shadow-sm hover:border-mintrab-light/30 transition-all hover:shadow-md">
                                                        <div className="mt-1 text-mintrab shrink-0"><Icons.Check /></div>
                                                        <div className="text-slate-700 text-sm">
                                                            <span className="font-bold text-mintrab block mb-1">{title}</span>
                                                            <span className="text-slate-600 leading-snug">{desc}</span>
                                                        </div>
                                                    </li>
                                                );
                                            })}
                                        </ul>
                                    </div>

                                    {/* Detalle de Fases */}
                                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                                        <h2 className="text-lg font-bold text-mintrab mb-6">Desglose Técnico por Fases</h2>
                                        <div className="space-y-5">
                                            {project.phaseDetails.map((phase, index) => (
                                                <div key={index} className="flex flex-col gap-2 p-3 bg-slate-50 rounded-lg border border-slate-100 hover:bg-slate-100 transition-colors">
                                                    <div className="flex justify-between items-start gap-2">
                                                        <span className="font-bold text-slate-800 text-sm">{index + 1}. {phase.name}</span>
                                                        <span className={`text-[10px] uppercase font-bold px-2 py-0.5 rounded whitespace-nowrap ${phase.status === 'En Proceso' || phase.status === 'Casi Finalizado' ? 'bg-blue-100 text-blue-700' : 'bg-slate-200 text-slate-600'}`}>
                                                            {phase.status}
                                                        </span>
                                                    </div>
                                                    
                                                    <div className="flex items-center gap-3">
                                                        <div className="flex-1 h-2 bg-slate-200 rounded-full overflow-hidden">
                                                            <div className={`h-full rounded-full transition-all duration-1000 ${getPhaseColor(phase.progress)}`} style={{width: `${phase.progress}%`}}></div>
                                                        </div>
                                                        <span className="text-xs font-bold text-slate-600 w-8 text-right">{phase.progress}%</span>
                                                    </div>

                                                    <div className="text-xs text-slate-500 pt-1">
                                                        <span className="font-semibold text-mintrab">Responsable:</span> {phase.responsible}
                                                    </div>
                                                </div>
                                            ))}
                                        </div>
                                    </div>

                                </div>

                                {/* COLUMNA DERECHA: MÓDULOS E INFO ADICIONAL (TIMELINE) */}
                                <div className="space-y-6">
                                    <div className="bg-white rounded-xl shadow-sm border border-slate-200 p-6 sticky top-24">
                                        <h3 className="text-sm font-bold text-mintrab uppercase tracking-wide mb-6 flex items-center gap-2">
                                            <Icons.Box /> Módulos del Sistema
                                        </h3>
                                        
                                        <div className="relative pl-2">
                                            <div className="absolute left-[11px] top-2 h-[calc(100%-24px)] w-0.5 bg-slate-200"></div>

                                            <div className="flex flex-col gap-6">
                                                {project.modules.map((mod, i) => {
                                                    const isFinished = mod.status === 'Finalizado';
                                                    return (
                                                        <div key={i} className="relative pl-8 group">
                                                            <div className={`absolute left-0 top-1 w-6 h-6 rounded-full border-4 border-white shadow-sm flex items-center justify-center z-10 ${isFinished ? 'bg-emerald-500' : 'bg-mintrab'}`}>
                                                                {isFinished ? 
                                                                    <div className="text-white"><Icons.CheckSmall /></div> : 
                                                                    <div className="text-white transform scale-75"><Icons.Clock /></div>
                                                                }
                                                            </div>
                                                            
                                                            <div className="flex flex-col">
                                                                <span className={`text-sm font-bold ${isFinished ? 'text-emerald-700' : 'text-slate-800'}`}>
                                                                    {i + 1}. {mod.name}
                                                                </span>
                                                                <span className={`text-xs font-medium mt-1 px-2 py-0.5 rounded w-fit ${
                                                                    isFinished 
                                                                        ? 'bg-emerald-50 text-emerald-700' 
                                                                        : 'bg-blue-50 text-blue-700'
                                                                }`}>
                                                                    {mod.status}
                                                                </span>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
